<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Atto: Atto - the microscopic C unit test framework</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Atto
   &#160;<span id="projectnumber">v1.0.0</span>
   </div>
   <div id="projectbrief">The microscopic C unit test framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('index.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Atto - the microscopic C unit test framework </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Atto is the simplest-to-use C unit test framework, in just one header file, without <code>malloc()</code>, without dependencies, ready for embedded systems that can at least call <code>printf</code>.</p>
<p>Most probably you will understand most about Atto if you just read its file: <a href="atto.h"><code>atto.h</code></a>. I mean, <b>it's 20 lines of code...</b>, except for the documentation.</p>
<h2>Why should I use Atto instead of _&lt;other framework&gt;_? </h2>
<p>The goal of a unit test is generally very simple: verify that the obtained value equals to the expected one. More generally if a boolean expression is true (e.g. a value is in the allowed range).</p>
<p>There are so many complex unit test frameworks to do this in C and C++ which just increases complexity of the whole project. Suppose you are just writing a simple program and want to test it. Oh boy! Start managing the dependencies for the framework, check if you can install it, maybe you need Docker etc. Some frameworks even require <code>fork()</code> - how could that work on an embedded system?</p>
<p>Atto is born to remove all of that complexity. Heavily inspired by <a href="http://www.jera.com/techinfo/jtns/jtn002.html">MinUnit</a>, which has just 3 lines of code, Atto is just a header file you can include statically (copy-paste) in your project and start writing your tests. Atto is so tiny that even <a href="https://en.wikipedia.org/wiki/Atto-">its name means "tiny"</a>.</p>
<p>The output is basic, but enough: indicates just where the test case failed, by filename and line number. Open that file, go to that line. There is the error. Done. Passing tests are not printed, to avoid cluttering the output.</p>
<h2>Dependencies </h2>
<p>Only the C standard library!</p>
<ul>
<li><code>stdio.h</code>, for <code>printf()</code></li>
<li><code>math.h</code>, for <code>fabs()</code>, <code>fabsf()</code></li>
<li><code>string.h</code>, for <code>strncmp()</code></li>
</ul>
<p><b>No <code>malloc()</code> required</b></p>
<h2>How to use </h2>
<p>An <b>example usage</b> is available in the <a href="example.c"><code>example.c</code></a> file!</p>
<ol type="1">
<li>Add <code><a class="el" href="atto_8h.html" title="Atto - the microscopic C unit test framework.">atto.h</a></code> to your project.</li>
<li>Create a file with your tests, say <code>test.c</code>, which will contain and run your tests.</li>
<li>Add a <code>main()</code> to <code>test.c</code> which returns <code>atto_at_least_one_fail</code>. By doing so, the return value will be 1 in case at least 1 test failed. Very useful when running the tests in a pipeline that should stop when something is broken. Of course on embedded systems one can use <code>atto_at_least_one_fail</code> in different ways, as there is no returning from <code>main</code>.</li>
<li>Add test case functions returning <code>void</code> to <code>test.c</code>.</li>
<li>In each test case call <code><a class="el" href="atto_8h.html#af85ba4f5d08d45055206f43587cab6d0" title="Verifies if the given boolean expression is true.">atto_assert()</a></code>, <code><a class="el" href="atto_8h.html#a36cd7bf12f666ea810059053a4c15f1d" title="Verifies if two single-precision floating point values are closer than the float absolute tolerance A...">atto_fapprox()</a></code>, <code><a class="el" href="atto_8h.html#a600ba63e783cc4eadd77a4007dcf210a" title="Verifies if the bits of the value specified as a bit mask is set to 1.">atto_flag()</a></code> etc. to verify the values you are testing. On a fail, the test case is terminated (by a <code>return</code>).</li>
<li>Call the test case functions from the <code>main()</code>.</li>
<li>Compile <code>test.c</code> and run it.</li>
</ol>
<h3>A test case is failing. Now what?</h3>
<p>The output will contain one or more lines like:</p>
<div class="fragment"><div class="line">FAIL | File: /my/home/folder/a_project/test.c | Line:  182 | Test case: test_valid_input_length</div></div><!-- fragment --><ol type="1">
<li>Open the file <code>/my/home/folder/a_project/test.c</code></li>
<li>Go to line 182 (use some keyboard shortcut), which is in the function <code>test_valid_input_length()</code></li>
<li>The assertion on that specific line failed. Now up to you to debug why. </li>
</ol>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed May 8 2019 13:49:55 for Atto by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>
